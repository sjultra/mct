FROM ubuntu:latest

ARG GCP_PROJECT_ID
ARG GCP_KEY_ID
ARG GCP_PRIVATE_KEY
ARG GCP_ACCOUNT_MAIL
ARG GCP_CLIENT_ID
ARG GOOGLE_CLOUD_KEYFILE_JSON
ARG ARM_CLIENT_ID
ARG ARM_CLIENT_SECRET
ARG ARM_TENANT_ID
ARG ARM_SUBSCRIPTION_ID
ARG AWS_ACCESS_KEY_ID
ARG AWS_SECRET_ACCESS_KEY
ARG AWS_DEFAULT_REGION

ENV GCP_PROJECT_ID=$GCP_PROJECT_ID
ENV GCP_KEY_ID=$GCP_KEY_ID
ENV GCP_PRIVATE_KEY=$GCP_PRIVATE_KEY
ENV GCP_ACCOUNT_MAIL=$GCP_ACCOUNT_MAIL
ENV GCP_CLIENT_ID=$GCP_CLIENT_ID
ENV GOOGLE_CLOUD_KEYFILE_JSON=$GOOGLE_CLOUD_KEYFILE_JSON
ENV ARM_CLIENT_ID=$ARM_CLIENT_ID
ENV ARM_CLIENT_SECRET=$ARM_CLIENT_SECRET
ENV ARM_TENANT_ID=$ARM_TENANT_ID
ENV ARM_SUBSCRIPTION_ID=$ARM_SUBSCRIPTION_ID
ENV TF_VAR_azure_client_id=$ARM_CLIENT_ID
ENV TF_VAR_azure_client_secret=$ARM_CLIENT_SECRET
ENV AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID
ENV AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY
ENV AWS_DEFAULT_REGION=$AWS_DEFAULT_REGION


COPY ./config_env.sh /root/config_env.sh
RUN ["/bin/bash", "/root/config_env.sh"]
